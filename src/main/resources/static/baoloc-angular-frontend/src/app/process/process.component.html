<div class="process-container">
  <div>
    Le résultat attendu dans la formule initiale du problème de Bao Loc est
    <b>66</b>. Ici, vous pouvez afficher les permutations valides pour le
    résultat que vous aurez choisi. Ces permutations seront automatiquement
    stockées dans notre base de données, ou récupéréees de cette dernière, si
    elles ont déjà été calculées.
  </div>

  <div class="process-actions-container">
    <div>
      <mat-form-field hintLabel="Max 3 characters" appearance="fill">
        <mat-label>Entrer le résultat voulu</mat-label>
        <input
          #input
          matInput
          type="number"
          maxlength="3"
          placeholder="Ex. 66"
          [formControl]="customResult"
        />
        <mat-hint align="end">{{ input.value?.length || 0 }}/3</mat-hint>
        <mat-error *ngIf="customResult.hasError('maxlength')">
          Pas plus de 3 caractères!
        </mat-error>
        <mat-error *ngIf="customResult.hasError('required')">
          Le nombre est <strong>obligatoire.</strong>
        </mat-error>
      </mat-form-field>
    </div>

    <div>
      <button
        mat-flat-button
        [disabled]="customResult.invalid"
        color="primary"
        (click)="processCustomResult()"
      >
        Launch the algorithm resolver
      </button>
    </div>

    <div *ngIf="result" class="permutations-container">
      <div class="sub-header">
        {{ result?.permutations?.length || 0 }} permutation(s) valide(s)
        trouvées en {{ result.duration }}ms. :
      </div>
      <mat-list>
        <mat-list-item *ngFor="let perm of result?.permutations">
          <div mat-line>{{ perm.numbers }}</div>
        </mat-list-item>
        <mat-divider></mat-divider>
      </mat-list>
    </div>
  </div>
</div>
